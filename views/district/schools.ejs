<%- include('../layouts/district', { body: `
<!-- Page Header -->
<div class="d-flex justify-content-between align-items-center mb-4">
  <div>
    <h4 class="mb-1">Schools</h4>
    <p class="text-muted mb-0">Manage all schools in ${district?.name || 'your district'}</p>
  </div>
</div>

<!-- Schools Grid -->
<div class="row g-4">
  ${schools && schools.length > 0 ? schools.map(school => '<div class="col-md-6 col-lg-4"><div class="card h-100"><div class="card-body"><div class="d-flex align-items-start justify-content-between mb-3"><div class="rounded bg-primary bg-opacity-10 p-2"><i class="bi bi-building text-primary fs-4"></i></div><span class="badge bg-' + (school.isActive ? 'success' : 'danger') + '">' + (school.isActive ? 'Active' : 'Inactive') + '</span></div><h5 class="card-title">' + school.name + '</h5><p class="text-muted small mb-3"><span class="badge bg-secondary me-1">' + (school.schoolType || 'School') + '</span>' + (school.city && school.state ? school.city + ', ' + school.state : '') + '</p><div class="row g-2 mb-3"><div class="col-4 text-center"><div class="fw-bold">' + (school.studentCount || 0) + '</div><small class="text-muted">Students</small></div><div class="col-4 text-center"><div class="fw-bold">' + (school.teacherCount || 0) + '</div><small class="text-muted">Teachers</small></div><div class="col-4 text-center"><div class="fw-bold">' + (school.classCount || 0) + '</div><small class="text-muted">Classes</small></div></div><a href="' + (typeof basePath !== 'undefined' ? basePath : '') + '/district/schools/' + school.id + '" class="btn btn-outline-primary btn-sm w-100">View Details</a></div></div></div>').join('') : '<div class="col-12"><div class="card"><div class="card-body text-center py-5"><i class="bi bi-building fs-1 text-muted mb-3 d-block"></i><h5 class="text-muted">No Schools Found</h5><p class="text-muted">There are no schools in this district yet.</p></div></div></div>'}
</div>

<!-- Summary Stats -->
<div class="row g-4 mt-4">
  <div class="col-12">
    <div class="card bg-light">
      <div class="card-body">
        <div class="row text-center">
          <div class="col-md-3">
            <h3 class="mb-0">${schools?.length || 0}</h3>
            <small class="text-muted">Total Schools</small>
          </div>
          <div class="col-md-3">
            <h3 class="mb-0">${schools?.reduce((sum, s) => sum + (s.studentCount || 0), 0) || 0}</h3>
            <small class="text-muted">Total Students</small>
          </div>
          <div class="col-md-3">
            <h3 class="mb-0">${schools?.reduce((sum, s) => sum + (s.teacherCount || 0), 0) || 0}</h3>
            <small class="text-muted">Total Teachers</small>
          </div>
          <div class="col-md-3">
            <h3 class="mb-0">${schools?.reduce((sum, s) => sum + (s.sessionCount || 0), 0) || 0}</h3>
            <small class="text-muted">Total Sessions</small>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
`, activePage: 'schools', pageTitle: 'Schools' }) %>
